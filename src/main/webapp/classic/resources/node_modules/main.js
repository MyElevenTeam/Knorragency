/*
 * Copyright (C) 2018, Victorique Ko. All rights reserved.
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <https://www.gnu.org/licenses/>.
 */

"use strict";
var _extends =
    Object.assign ||
    function(a) {
      for (var c, b = 1; b < arguments.length; b++)
        for (var d in ((c = arguments[b]), c))
          Object.prototype.hasOwnProperty.call(c, d) && (a[d] = c[d]);
      return a;
    },
  ChuShouGuanLi = createReactClass({
    displayName: "ChuShouGuanLi",
    getInitialState: function getInitialState() {
      var a = this;
      return (
        document
          .querySelectorAll("div.x-container div.x-panel")
          .forEach(function(b) {
            return (b.style.minHeight = "100%");
          }),
        setInterval(function() {
          return document
            .querySelectorAll("div.x-container div.x-panel")
            .forEach(function(b) {
              return (b.style.minHeight = "100%");
            });
        }, 1e3),
        document
          .querySelectorAll("div.x-container div.x-autocontainer-outerCt")
          .forEach(function(b) {
            return (b.style.minWidth = "100%");
          }),
        setInterval(function() {
          return document
            .querySelectorAll("div.x-container div.x-autocontainer-outerCt")
            .forEach(function(b) {
              return (b.style.minWidth = "100%");
            });
        }, 1e3),
        axios.get("http://localhost:8080/user/current").then(function(b) {
          a.setState({ userId: parseInt(b.data.msg, 10) });
        }),
        axios.get("http://localhost:8080/group/current").then(function(b) {
          a.setState({ groupName: b.data.msg });
        }),
        {
          userId: 0,
          groupName: "",
          houseNameFilter: "",
          housePositionFilter: "",
          dataSource: [],
          pagination: {},
          selectedRowKeys: [],
          loading: !1,
          modalVisible: !1,
          modalErrorVisible: !1,
          modalError: "",
          modalValue: {}
        }
      );
    },
    handleHouseNameFilter: function handleHouseNameFilter(a) {
      this.fetch({ houseName: a });
    },
    handleHousePositionFilter: function handleHousePositionFilter(a) {
      this.fetch({ housePosition: a });
    },
    handleTableChange: function handleTableChange(a) {
      var d = _extends({}, this.state.pagination);
      (d.current = a.current),
        this.setState({ pagination: d }),
        this.fetch({ page: a.current - 1, size: a.pageSize });
    },
    fetch: function fetch() {
      var d = this,
        a = 0 < arguments.length && arguments[0] !== void 0 ? arguments[0] : {},
        b = "%",
        c = "%";
      "" !== this.state.houseNameFilter &&
        (b = "%" + this.state.houseNameFilter + "%"),
        "" !== this.state.housePositionFilter &&
          (c = "%" + this.state.housePositionFilter + "%"),
        a.houseName !== void 0 && (b = "%" + a.houseName + "%"),
        a.housePosition !== void 0 && (c = "%" + a.housePosition + "%"),
        "" === a.houseName && (b = "%"),
        "" === a.housePosition && (c = "%"),
        this.setState({ loading: !0 }),
        axios
          .get(
            "marketingClerk" === this.state.groupName
              ? "http://localhost:8080/houses/search/findByHouseNameLikeAndHousePositionLikeAndHouseTypeAndUserId"
              : "http://localhost:8080/houses/search/findByHouseNameLikeAndHousePositionLikeAndHouseTypeAndOwn",
            {
              params: _extends(
                {
                  houseType: "\u51FA\u552E",
                  userId:
                    "marketingClerk" === this.state.groupName
                      ? this.state.userId
                      : void 0,
                  size: 10,
                  own: !1
                },
                a,
                { houseName: b, housePosition: c }
              )
            }
          )
          .then(function(f) {
            var g = _extends({}, d.state.pagination);
            (g.total = f.data.page.totalElements),
              d.setState({
                dataSource: f.data._embedded.houses,
                pagination: g,
                selectedRowKeys: [],
                loading: !1
              }),
              a.houseName !== void 0 &&
                d.setState({ houseNameFilter: a.houseName }),
              a.housePosition !== void 0 &&
                d.setState({ housePositionFilter: a.housePosition });
          });
    },
    handleAdd: function handleAdd() {
      this.setState({
        modalVisible: !0,
        modalValue: {
          houseName: "",
          housePrice: "",
          houseProportion: "",
          housePosition: "",
          own: ""
        }
      });
    },
    handleUpdate: function handleUpdate(a) {
      var _iteratorNormalCompletion = !0,
        _didIteratorError = !1,
        _iteratorError = void 0;
      try {
        for (
          var c, d, b = this.state.dataSource[Symbol.iterator]();
          !(_iteratorNormalCompletion = (c = b.next()).done);
          _iteratorNormalCompletion = !0
        )
          if (((d = c.value), a === d._links.self.href)) {
            this.setState({ modalVisible: !0, modalValue: d });
            break;
          }
      } catch (f) {
        (_didIteratorError = !0), (_iteratorError = f);
      } finally {
        try {
          !_iteratorNormalCompletion && b.return && b.return();
        } finally {
          if (_didIteratorError) throw _iteratorError;
        }
      }
    },
    handleDelete: function handleDelete(a) {
      axios.delete(a).then(this.fetch);
    },
    handleDeleteAll: function handleDeleteAll() {
      var a = [],
        _iteratorNormalCompletion2 = !0,
        _didIteratorError2 = !1,
        _iteratorError2 = void 0;
      try {
        for (
          var c, d, b = this.state.selectedRowKeys[Symbol.iterator]();
          !(_iteratorNormalCompletion2 = (c = b.next()).done);
          _iteratorNormalCompletion2 = !0
        )
          (d = c.value),
            a.push(axios.delete(this.state.dataSource[d]._links.self.href));
      } catch (f) {
        (_didIteratorError2 = !0), (_iteratorError2 = f);
      } finally {
        try {
          !_iteratorNormalCompletion2 && b.return && b.return();
        } finally {
          if (_didIteratorError2) throw _iteratorError2;
        }
      }
      Promise.all(a).then(this.fetch);
    },
    onSelectChange: function onSelectChange(a) {
      console.log(a), this.setState({ selectedRowKeys: a });
    },
    modalOk: function modalOk() {
      var a = this;
      return "" === this.state.modalValue.houseName
        ? void this.setState({
            modalErrorVisible: !0,
            modalError: "\u623F\u6E90\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"
          })
        : "" === this.state.modalValue.housePosition
          ? void this.setState({
              modalErrorVisible: !0,
              modalError: "\u4F4D\u7F6E\u4E0D\u80FD\u4E3A\u7A7A"
            })
          : "" === this.state.modalValue.housePrice
            ? void this.setState({
                modalErrorVisible: !0,
                modalError: "\u552E\u4EF7\u4E0D\u80FD\u4E3A\u7A7A"
              })
            : "" === this.state.modalValue.houseProportion
              ? void this.setState({
                  modalErrorVisible: !0,
                  modalError: "\u9762\u79EF\u4E0D\u80FD\u4E3A\u7A7A"
                })
              : Number.isNaN(parseFloat(this.state.modalValue.housePrice, 10))
                ? void this.setState({
                    modalErrorVisible: !0,
                    modalError: "\u552E\u4EF7\u5FC5\u987B\u4E3A\u6570\u5B57"
                  })
                : Number.isNaN(
                    parseFloat(this.state.modalValue.houseProportion, 10)
                  )
                  ? void this.setState({
                      modalErrorVisible: !0,
                      modalError: "\u9762\u79EF\u5FC5\u987B\u4E3A\u6570\u5B57"
                    })
                  : void (this.setState({ modalErrorVisible: !1 }),
                    this.state.modalValue._links === void 0
                      ? axios
                          .post(
                            "http://localhost:8080/houses",
                            _extends({}, this.state.modalValue, {
                              housePrice: parseFloat(
                                this.state.modalValue.housePrice,
                                10
                              ),
                              houseProportion: parseFloat(
                                this.state.modalValue.houseProportion,
                                10
                              ),
                              houseType: "\u51FA\u552E",
                              own: "\u662F" === this.state.modalValue.own
                            })
                          )
                          .then(function() {
                            a.fetch(), a.setState({ modalVisible: !1 });
                          })
                      : axios
                          .put(
                            this.state.modalValue._links.self.href,
                            _extends({}, this.state.modalValue, {
                              housePrice: parseFloat(
                                this.state.modalValue.housePrice,
                                10
                              ),
                              houseProportion: parseFloat(
                                this.state.modalValue.houseProportion,
                                10
                              ),
                              own: "\u662F" === this.state.modalValue.own
                            })
                          )
                          .then(function() {
                            a.fetch(), a.setState({ modalVisible: !1 });
                          }));
    },
    modalCancel: function modalCancel() {
      this.setState({ modalVisible: !1 });
    },
    tableActions: function tableActions(a, b) {
      var c = this;
      return React.createElement(
        "span",
        null,
        React.createElement(
          antd.Button,
          {
            style: { marginRight: "16px" },
            onClick: function onClick() {
              return c.handleUpdate(b._links.self.href);
            }
          },
          "\u7F16\u8F91"
        ),
        React.createElement(
          antd.Button,
          {
            onClick: function onClick() {
              return c.handleDelete(b._links.self.href);
            }
          },
          "\u5220\u9664"
        )
      );
    },
    componentDidMount: function componentDidMount() {
      this.fetch();
    },
    render: function() {
      var c = this,
        a = this.state.dataSource;
      a.forEach(function(d) {
        return (d.own =
          !0 === d.own || "\u662F" === d.own ? "\u662F" : "\u5426");
      });
      var b = {
        selectedRowKeys: this.state.selectedRowKeys,
        onChange: this.onSelectChange
      };
      return React.createElement(
        antd.LocaleProvider,
        { locale: antd.locales.zh_CN },
        "admin" === this.state.groupName ||
        "generalManager" === this.state.groupName ||
        "secretary" === this.state.groupName ||
        "marketingManager" === this.state.groupName ||
        "marketingClerk" === this.state.groupName
          ? React.createElement(
              "div",
              null,
              React.createElement(
                "div",
                null,
                React.createElement(
                  antd.Button,
                  {
                    onClick: this.handleAdd,
                    type: "primary",
                    style: { margin: 16 }
                  },
                  "\u6DFB\u52A0"
                ),
                React.createElement(
                  antd.Button,
                  {
                    onClick: this.handleDeleteAll,
                    type: "primary",
                    style: { margin: 16 }
                  },
                  "\u5220\u9664\u6240\u9009"
                ),
                React.createElement(antd.Input.Search, {
                  placeholder: "\u6309\u623F\u6E90\u540D\u79F0\u7B5B\u9009",
                  onSearch: this.handleHouseNameFilter,
                  style: { margin: 16, width: 200 }
                }),
                React.createElement(antd.Input.Search, {
                  placeholder: "\u6309\u4F4D\u7F6E\u7B5B\u9009",
                  onSearch: this.handleHousePositionFilter,
                  style: { margin: 16, width: 200 }
                })
              ),
              React.createElement(
                antd.Table,
                {
                  dataSource: a,
                  pagination: this.state.pagination,
                  rowSelection: b,
                  loading: this.state.loading,
                  onChange: this.handleTableChange
                },
                React.createElement(antd.Column, {
                  title: "\u623F\u6E90\u540D\u79F0",
                  dataIndex: "houseName",
                  key: "houseName"
                }),
                React.createElement(antd.Column, {
                  title: "\u552E\u4EF7",
                  dataIndex: "housePrice",
                  key: "housePrice"
                }),
                React.createElement(antd.Column, {
                  title: "\u9762\u79EF",
                  dataIndex: "houseProportion",
                  key: "houseProportion"
                }),
                React.createElement(antd.Column, {
                  title: "\u4F4D\u7F6E",
                  dataIndex: "housePosition",
                  key: "housePosition"
                }),
                React.createElement(antd.Column, {
                  title: "\u662F\u5426\u4E3A\u79C1\u6709",
                  dataIndex: "own",
                  key: "own"
                }),
                React.createElement(antd.Column, {
                  title: "\u64CD\u4F5C",
                  key: "action",
                  render: this.tableActions
                })
              ),
              React.createElement(
                antd.Modal,
                {
                  title: "\u623F\u6E90\u7F16\u8F91",
                  visible: this.state.modalVisible,
                  onOk: this.modalOk,
                  onCancel: this.modalCancel
                },
                this.state.modalErrorVisible
                  ? React.createElement(antd.Alert, {
                      message: "Error",
                      description: this.state.modalError,
                      type: "error",
                      showIcon: !0,
                      closable: !0,
                      afterClose: function afterClose() {
                        return c.setState({ modalErrorVisible: !1 });
                      },
                      style: { marginBottom: "16px" }
                    })
                  : null,
                React.createElement(antd.Input, {
                  placeholder: "\u623F\u6E90\u540D\u79F0",
                  value: this.state.modalValue.houseName,
                  style: { marginBottom: "16px" },
                  onChange: function onChange(d) {
                    return c.setState({
                      modalValue: _extends({}, c.state.modalValue, {
                        houseName: d.target.value
                      })
                    });
                  }
                }),
                React.createElement(antd.Input, {
                  placeholder: "\u552E\u4EF7",
                  value: this.state.modalValue.housePrice,
                  style: { marginBottom: "16px" },
                  onChange: function onChange(d) {
                    return c.setState({
                      modalValue: _extends({}, c.state.modalValue, {
                        housePrice: d.target.value
                      })
                    });
                  }
                }),
                React.createElement(antd.Input, {
                  placeholder: "\u9762\u79EF",
                  value: this.state.modalValue.houseProportion,
                  style: { marginBottom: "16px" },
                  onChange: function onChange(d) {
                    return c.setState({
                      modalValue: _extends({}, c.state.modalValue, {
                        houseProportion: d.target.value
                      })
                    });
                  }
                }),
                React.createElement(antd.Input, {
                  placeholder: "\u4F4D\u7F6E",
                  value: this.state.modalValue.housePosition,
                  style: { marginBottom: "16px" },
                  onChange: function onChange(d) {
                    return c.setState({
                      modalValue: _extends({}, c.state.modalValue, {
                        housePosition: d.target.value
                      })
                    });
                  }
                }),
                React.createElement(antd.Switch, {
                  checkedChildren: "\u79C1\u6709",
                  unCheckedChildren: "\u975E\u79C1\u6709",
                  checked: "\u662F" === this.state.modalValue.own,
                  style: { marginBottom: "16px" },
                  onChange: function onChange(d) {
                    return c.setState({
                      modalValue: _extends({}, c.state.modalValue, {
                        own: d ? "\u662F" : "\u5426"
                      })
                    });
                  }
                })
              )
            )
          : React.createElement(
              "div",
              null,
              React.createElement(antd.Alert, {
                message: "Error",
                description: "\u4F60\u65E0\u6743\u4F7F\u7528\u672C\u529F\u80FD",
                type: "error",
                showIcon: !0,
                style: { marginBottom: "16px" }
              })
            )
      );
    }
  }),
  ChuZuGuanLi = createReactClass({
    displayName: "ChuZuGuanLi",
    getInitialState: function getInitialState() {
      var a = this;
      return (
        document
          .querySelectorAll("div.x-container div.x-panel")
          .forEach(function(b) {
            return (b.style.minHeight = "100%");
          }),
        setInterval(function() {
          return document
            .querySelectorAll("div.x-container div.x-panel")
            .forEach(function(b) {
              return (b.style.minHeight = "100%");
            });
        }, 1e3),
        document
          .querySelectorAll("div.x-container div.x-autocontainer-outerCt")
          .forEach(function(b) {
            return (b.style.minWidth = "100%");
          }),
        setInterval(function() {
          return document
            .querySelectorAll("div.x-container div.x-autocontainer-outerCt")
            .forEach(function(b) {
              return (b.style.minWidth = "100%");
            });
        }, 1e3),
        axios.get("http://localhost:8080/user/current").then(function(b) {
          a.setState({ userId: parseInt(b.data.msg, 10) });
        }),
        axios.get("http://localhost:8080/group/current").then(function(b) {
          a.setState({ groupName: b.data.msg });
        }),
        {
          userId: 0,
          groupName: "",
          houseNameFilter: "",
          housePositionFilter: "",
          dataSource: [],
          pagination: {},
          selectedRowKeys: [],
          loading: !1,
          modalVisible: !1,
          modalErrorVisible: !1,
          modalError: "",
          modalValue: {}
        }
      );
    },
    handleHouseNameFilter: function handleHouseNameFilter(a) {
      this.fetch({ houseName: a });
    },
    handleHousePositionFilter: function handleHousePositionFilter(a) {
      this.fetch({ housePosition: a });
    },
    handleTableChange: function handleTableChange(a) {
      var d = _extends({}, this.state.pagination);
      (d.current = a.current),
        this.setState({ pagination: d }),
        this.fetch({ page: a.current - 1, size: a.pageSize });
    },
    fetch: function fetch() {
      var d = this,
        a = 0 < arguments.length && arguments[0] !== void 0 ? arguments[0] : {},
        b = "%",
        c = "%";
      "" !== this.state.houseNameFilter &&
        (b = "%" + this.state.houseNameFilter + "%"),
        "" !== this.state.housePositionFilter &&
          (c = "%" + this.state.housePositionFilter + "%"),
        a.houseName !== void 0 && (b = "%" + a.houseName + "%"),
        a.housePosition !== void 0 && (c = "%" + a.housePosition + "%"),
        "" === a.houseName && (b = "%"),
        "" === a.housePosition && (c = "%"),
        this.setState({ loading: !0 }),
        axios
          .get(
            "marketingClerk" === this.state.groupName
              ? "http://localhost:8080/houses/search/findByHouseNameLikeAndHousePositionLikeAndHouseTypeAndUserId"
              : "http://localhost:8080/houses/search/findByHouseNameLikeAndHousePositionLikeAndHouseTypeAndOwn",
            {
              params: _extends(
                {
                  houseType: "\u51FA\u79DF",
                  userId:
                    "marketingClerk" === this.state.groupName
                      ? this.state.userId
                      : void 0,
                  size: 10,
                  own: !1
                },
                a,
                { houseName: b, housePosition: c }
              )
            }
          )
          .then(function(f) {
            var g = _extends({}, d.state.pagination);
            (g.total = f.data.page.totalElements),
              d.setState({
                dataSource: f.data._embedded.houses,
                pagination: g,
                selectedRowKeys: [],
                loading: !1
              }),
              a.houseName !== void 0 &&
                d.setState({ houseNameFilter: a.houseName }),
              a.housePosition !== void 0 &&
                d.setState({ housePositionFilter: a.housePosition });
          });
    },
    handleAdd: function handleAdd() {
      this.setState({
        modalVisible: !0,
        modalValue: {
          houseName: "",
          housePrice: "",
          houseProportion: "",
          housePosition: "",
          own: ""
        }
      });
    },
    handleUpdate: function handleUpdate(a) {
      var _iteratorNormalCompletion3 = !0,
        _didIteratorError3 = !1,
        _iteratorError3 = void 0;
      try {
        for (
          var c, d, b = this.state.dataSource[Symbol.iterator]();
          !(_iteratorNormalCompletion3 = (c = b.next()).done);
          _iteratorNormalCompletion3 = !0
        )
          if (((d = c.value), a === d._links.self.href)) {
            this.setState({ modalVisible: !0, modalValue: d });
            break;
          }
      } catch (f) {
        (_didIteratorError3 = !0), (_iteratorError3 = f);
      } finally {
        try {
          !_iteratorNormalCompletion3 && b.return && b.return();
        } finally {
          if (_didIteratorError3) throw _iteratorError3;
        }
      }
    },
    handleDelete: function handleDelete(a) {
      axios.delete(a).then(this.fetch);
    },
    handleDeleteAll: function handleDeleteAll() {
      var a = [],
        _iteratorNormalCompletion4 = !0,
        _didIteratorError4 = !1,
        _iteratorError4 = void 0;
      try {
        for (
          var c, d, b = this.state.selectedRowKeys[Symbol.iterator]();
          !(_iteratorNormalCompletion4 = (c = b.next()).done);
          _iteratorNormalCompletion4 = !0
        )
          (d = c.value),
            a.push(axios.delete(this.state.dataSource[d]._links.self.href));
      } catch (f) {
        (_didIteratorError4 = !0), (_iteratorError4 = f);
      } finally {
        try {
          !_iteratorNormalCompletion4 && b.return && b.return();
        } finally {
          if (_didIteratorError4) throw _iteratorError4;
        }
      }
      Promise.all(a).then(this.fetch);
    },
    onSelectChange: function onSelectChange(a) {
      console.log(a), this.setState({ selectedRowKeys: a });
    },
    modalOk: function modalOk() {
      var a = this;
      return "" === this.state.modalValue.houseName
        ? void this.setState({
            modalErrorVisible: !0,
            modalError: "\u623F\u6E90\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"
          })
        : "" === this.state.modalValue.housePosition
          ? void this.setState({
              modalErrorVisible: !0,
              modalError: "\u4F4D\u7F6E\u4E0D\u80FD\u4E3A\u7A7A"
            })
          : "" === this.state.modalValue.housePrice
            ? void this.setState({
                modalErrorVisible: !0,
                modalError: "\u552E\u4EF7\u4E0D\u80FD\u4E3A\u7A7A"
              })
            : "" === this.state.modalValue.houseProportion
              ? void this.setState({
                  modalErrorVisible: !0,
                  modalError: "\u9762\u79EF\u4E0D\u80FD\u4E3A\u7A7A"
                })
              : Number.isNaN(parseFloat(this.state.modalValue.housePrice, 10))
                ? void this.setState({
                    modalErrorVisible: !0,
                    modalError: "\u552E\u4EF7\u5FC5\u987B\u4E3A\u6570\u5B57"
                  })
                : Number.isNaN(
                    parseFloat(this.state.modalValue.houseProportion, 10)
                  )
                  ? void this.setState({
                      modalErrorVisible: !0,
                      modalError: "\u9762\u79EF\u5FC5\u987B\u4E3A\u6570\u5B57"
                    })
                  : void (this.setState({ modalErrorVisible: !1 }),
                    this.state.modalValue._links === void 0
                      ? axios
                          .post(
                            "http://localhost:8080/houses",
                            _extends({}, this.state.modalValue, {
                              housePrice: parseFloat(
                                this.state.modalValue.housePrice,
                                10
                              ),
                              houseProportion: parseFloat(
                                this.state.modalValue.houseProportion,
                                10
                              ),
                              houseType: "\u51FA\u79DF",
                              own: "\u662F" === this.state.modalValue.own
                            })
                          )
                          .then(function() {
                            a.fetch(), a.setState({ modalVisible: !1 });
                          })
                      : axios
                          .put(
                            this.state.modalValue._links.self.href,
                            _extends({}, this.state.modalValue, {
                              housePrice: parseFloat(
                                this.state.modalValue.housePrice,
                                10
                              ),
                              houseProportion: parseFloat(
                                this.state.modalValue.houseProportion,
                                10
                              ),
                              own: "\u662F" === this.state.modalValue.own
                            })
                          )
                          .then(function() {
                            a.fetch(), a.setState({ modalVisible: !1 });
                          }));
    },
    modalCancel: function modalCancel() {
      this.setState({ modalVisible: !1 });
    },
    tableActions: function tableActions(a, b) {
      var c = this;
      return React.createElement(
        "span",
        null,
        React.createElement(
          antd.Button,
          {
            style: { marginRight: "16px" },
            onClick: function onClick() {
              return c.handleUpdate(b._links.self.href);
            }
          },
          "\u7F16\u8F91"
        ),
        React.createElement(
          antd.Button,
          {
            onClick: function onClick() {
              return c.handleDelete(b._links.self.href);
            }
          },
          "\u5220\u9664"
        )
      );
    },
    componentDidMount: function componentDidMount() {
      this.fetch();
    },
    render: function() {
      var c = this,
        a = this.state.dataSource;
      a.forEach(function(d) {
        return (d.own =
          !0 === d.own || "\u662F" === d.own ? "\u662F" : "\u5426");
      });
      var b = {
        selectedRowKeys: this.state.selectedRowKeys,
        onChange: this.onSelectChange
      };
      return React.createElement(
        antd.LocaleProvider,
        { locale: antd.locales.zh_CN },
        "admin" === this.state.groupName ||
        "generalManager" === this.state.groupName ||
        "secretary" === this.state.groupName ||
        "marketingManager" === this.state.groupName ||
        "marketingClerk" === this.state.groupName
          ? React.createElement(
              "div",
              null,
              React.createElement(
                "div",
                null,
                React.createElement(
                  antd.Button,
                  {
                    onClick: this.handleAdd,
                    type: "primary",
                    style: { margin: 16 }
                  },
                  "\u6DFB\u52A0"
                ),
                React.createElement(
                  antd.Button,
                  {
                    onClick: this.handleDeleteAll,
                    type: "primary",
                    style: { margin: 16 }
                  },
                  "\u5220\u9664\u6240\u9009"
                ),
                React.createElement(antd.Input.Search, {
                  placeholder: "\u6309\u623F\u6E90\u540D\u79F0\u7B5B\u9009",
                  onSearch: this.handleHouseNameFilter,
                  style: { margin: 16, width: 200 }
                }),
                React.createElement(antd.Input.Search, {
                  placeholder: "\u6309\u4F4D\u7F6E\u7B5B\u9009",
                  onSearch: this.handleHousePositionFilter,
                  style: { margin: 16, width: 200 }
                })
              ),
              React.createElement(
                antd.Table,
                {
                  dataSource: a,
                  pagination: this.state.pagination,
                  rowSelection: b,
                  loading: this.state.loading,
                  onChange: this.handleTableChange
                },
                React.createElement(antd.Column, {
                  title: "\u623F\u6E90\u540D\u79F0",
                  dataIndex: "houseName",
                  key: "houseName"
                }),
                React.createElement(antd.Column, {
                  title: "\u552E\u4EF7",
                  dataIndex: "housePrice",
                  key: "housePrice"
                }),
                React.createElement(antd.Column, {
                  title: "\u9762\u79EF",
                  dataIndex: "houseProportion",
                  key: "houseProportion"
                }),
                React.createElement(antd.Column, {
                  title: "\u4F4D\u7F6E",
                  dataIndex: "housePosition",
                  key: "housePosition"
                }),
                React.createElement(antd.Column, {
                  title: "\u662F\u5426\u4E3A\u79C1\u6709",
                  dataIndex: "own",
                  key: "own"
                }),
                React.createElement(antd.Column, {
                  title: "\u64CD\u4F5C",
                  key: "action",
                  render: this.tableActions
                })
              ),
              React.createElement(
                antd.Modal,
                {
                  title: "\u623F\u6E90\u7F16\u8F91",
                  visible: this.state.modalVisible,
                  onOk: this.modalOk,
                  onCancel: this.modalCancel
                },
                this.state.modalErrorVisible
                  ? React.createElement(antd.Alert, {
                      message: "Error",
                      description: this.state.modalError,
                      type: "error",
                      showIcon: !0,
                      closable: !0,
                      afterClose: function afterClose() {
                        return c.setState({ modalErrorVisible: !1 });
                      },
                      style: { marginBottom: "16px" }
                    })
                  : null,
                React.createElement(antd.Input, {
                  placeholder: "\u623F\u6E90\u540D\u79F0",
                  value: this.state.modalValue.houseName,
                  style: { marginBottom: "16px" },
                  onChange: function onChange(d) {
                    return c.setState({
                      modalValue: _extends({}, c.state.modalValue, {
                        houseName: d.target.value
                      })
                    });
                  }
                }),
                React.createElement(antd.Input, {
                  placeholder: "\u552E\u4EF7",
                  value: this.state.modalValue.housePrice,
                  style: { marginBottom: "16px" },
                  onChange: function onChange(d) {
                    return c.setState({
                      modalValue: _extends({}, c.state.modalValue, {
                        housePrice: d.target.value
                      })
                    });
                  }
                }),
                React.createElement(antd.Input, {
                  placeholder: "\u9762\u79EF",
                  value: this.state.modalValue.houseProportion,
                  style: { marginBottom: "16px" },
                  onChange: function onChange(d) {
                    return c.setState({
                      modalValue: _extends({}, c.state.modalValue, {
                        houseProportion: d.target.value
                      })
                    });
                  }
                }),
                React.createElement(antd.Input, {
                  placeholder: "\u4F4D\u7F6E",
                  value: this.state.modalValue.housePosition,
                  style: { marginBottom: "16px" },
                  onChange: function onChange(d) {
                    return c.setState({
                      modalValue: _extends({}, c.state.modalValue, {
                        housePosition: d.target.value
                      })
                    });
                  }
                }),
                React.createElement(antd.Switch, {
                  checkedChildren: "\u79C1\u6709",
                  unCheckedChildren: "\u975E\u79C1\u6709",
                  checked: "\u662F" === this.state.modalValue.own,
                  style: { marginBottom: "16px" },
                  onChange: function onChange(d) {
                    return c.setState({
                      modalValue: _extends({}, c.state.modalValue, {
                        own: d ? "\u662F" : "\u5426"
                      })
                    });
                  }
                })
              )
            )
          : React.createElement(
              "div",
              null,
              React.createElement(antd.Alert, {
                message: "Error",
                description: "\u4F60\u65E0\u6743\u4F7F\u7528\u672C\u529F\u80FD",
                type: "error",
                showIcon: !0,
                style: { marginBottom: "16px" }
              })
            )
      );
    }
  }),
  FangYuanDingWei = createReactClass({
    displayName: "FangYuanDingWei",
    getInitialState: function getInitialState() {
      var a = this;
      return (
        document
          .querySelectorAll("div.x-container div.x-panel")
          .forEach(function(b) {
            return (b.style.minHeight = "100%");
          }),
        setInterval(function() {
          return document
            .querySelectorAll("div.x-container div.x-panel")
            .forEach(function(b) {
              return (b.style.minHeight = "100%");
            });
        }, 1e3),
        document
          .querySelectorAll("div.x-container div.x-autocontainer-outerCt")
          .forEach(function(b) {
            return (b.style.minWidth = "100%");
          }),
        setInterval(function() {
          return document
            .querySelectorAll("div.x-container div.x-autocontainer-outerCt")
            .forEach(function(b) {
              return (b.style.minWidth = "100%");
            });
        }, 1e3),
        axios.get("http://localhost:8080/user/current").then(function(b) {
          a.setState({ userId: parseInt(b.data.msg, 10) });
        }),
        axios.get("http://localhost:8080/group/current").then(function(b) {
          a.setState({ groupName: b.data.msg });
        }),
        { userId: 0, groupName: "", map: null }
      );
    },
    componentDidMount: function componentDidMount() {
      var a = new AMap.Map("container");
      this.setState({ map: a }),
        a.on("complete", function() {
          axios
            .get(
              "marketingClerk" === this.state.groupName
                ? "http://localhost:8080/houses/search/findByUserId"
                : "http://localhost:8080/houses/search/findByOwn",
              {
                params: {
                  userId:
                    "marketingClerk" === this.state.groupName
                      ? this.state.userId
                      : void 0,
                  own: !1
                }
              }
            )
            .then(function(b) {
              var c = new AMap.PlaceSearch(),
                _iteratorNormalCompletion5 = !0,
                _didIteratorError5 = !1,
                _iteratorError5 = void 0;
              try {
                for (
                  var f, g, d = b.data._embedded.houses[Symbol.iterator]();
                  !(_iteratorNormalCompletion5 = (f = d.next()).done);
                  _iteratorNormalCompletion5 = !0
                )
                  (g = f.value),
                    c.search(g.housePosition, function(j, k) {
                      if ("complete" === j) {
                        var l = new AMap.Marker({
                          position: k.poiList.pois[0].location,
                          title: k.poiList.pois[0].name
                        });
                        this.state.map.add(l);
                      }
                    });
              } catch (j) {
                (_didIteratorError5 = !0), (_iteratorError5 = j);
              } finally {
                try {
                  !_iteratorNormalCompletion5 && d.return && d.return();
                } finally {
                  if (_didIteratorError5) throw _iteratorError5;
                }
              }
            });
        });
    },
    render: function() {
      return React.createElement(
        antd.LocaleProvider,
        { locale: antd.locales.zh_CN },
        "admin" === this.state.groupName ||
        "generalManager" === this.state.groupName ||
        "secretary" === this.state.groupName ||
        "marketingManager" === this.state.groupName ||
        "marketingClerk" === this.state.groupName
          ? React.createElement(
              "div",
              { style: { minHeight: "100%" } },
              React.createElement("div", {
                id: "container",
                style: {
                  position: "absolute",
                  minWidth: "100%",
                  minHeight: "100%"
                }
              })
            )
          : React.createElement(
              "div",
              null,
              React.createElement(antd.Alert, {
                message: "Error",
                description: "\u4F60\u65E0\u6743\u4F7F\u7528\u672C\u529F\u80FD",
                type: "error",
                showIcon: !0,
                style: { marginBottom: "16px" }
              })
            )
      );
    }
  });
function render(a, b) {
  ReactDOM.render(React.createElement(a, null), document.getElementById(b));
}
